import{r,b as c,j as t,a as e,n as w}from"./app-eae9fd7a.js";import{A as N}from"./AuthenticatedLayout-bcee1669.js";import{k as v,Q as h}from"./react-toastify.esm-183d4a81.js";/* empty css                      */import{z as k}from"./react-datepicker-fa2abbb2.js";import{a as _}from"./moment-1c676225.js";import"./ResponsiveNavLink-3283ff5d.js";import"./transition-1d2338f1.js";const j=n=>{const[s,m]=r.useState({}),[l,p]=r.useState(n.data),[i,u]=r.useState(new Date),g=a=>{u(a)},o=_(i).format("YYYY-MM-DD");r.useEffect(()=>{c.get(`/get_urutan?date=${o}`).then(a=>{p(a.data)})},[o]);const x=()=>{c.post("/urutan",s).then(function(a){h.success("Urutan berhasil di update!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),c.get(`/get_urutan/?date=${o}`).then(function(d){p(d.data)})}).catch(function(a){console.error(a),h.error("Urutan gagal di update!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})})},y={year:"numeric",month:"long",day:"numeric"},f=i.toLocaleDateString("en-GB",y);return t(N,{auth:n.auth,errors:n.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Urutan Kiriman"}),children:[e(w,{title:"Urutan Kiriman"}),e(v,{}),e("div",{className:"py-12",children:t("div",{className:"max-w-7xl mx-auto sm:px-1 lg:px-1",children:[e("div",{className:"flex justify-between",children:e("div",{className:"p-6 text-gray-900",children:t("div",{className:"flex gap-4 items-center",children:[e("div",{className:"font-bold",children:"Tanggal"}),e(k,{selected:i,onChange:g,dateFormat:"dd/MM/yyyy"})]})})}),e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"overflow-x-auto",children:[t("table",{className:"min-w-full divide-y-2 divide-gray-200 text-sm",children:[e("thead",{children:t("tr",{children:[e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"Nama"}),e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"No Telp"}),e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"Alamat"}),e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"Link Maps"}),e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"Type/Status"}),e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"Kecamatan"}),e("th",{className:"whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900",children:"Urutan"})]})}),e("tbody",{className:"divide-y divide-gray-200",children:l.map((a,d)=>t("tr",{children:[e("td",{className:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",children:a.nama_penerima}),e("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:e("a",{href:`https://wa.me/${a.no_telp_penerima.startsWith("0")?"62"+a.no_telp_penerima.substring(1):a.no_telp_penerima}`,target:"_blank",className:"hover:underline",children:a.no_telp_penerima})}),e("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.alamat}),e("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.link_maps!==null?e("a",{href:`https://${a.link_maps}`,target:"_blank",className:"hover:underline",children:"Klik Disini"}):e("p",{children:"Tidak ada Link Maps"})}),e("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:e("span",{className:`text-xs inline-block py-1 ml-2 leading-none text-center whitespace-nowrap align-baseline font-bold text-white rounded-full ${a.type=="Pickup"?"bg-orange-600":a.type=="Kirim"?"bg-purple-600":"bg-blue-600"}`,style:{width:"6rem"},children:a.type})}),e("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:a.kecamatan?a.kecamatan:"Tidak ada kecamatan"}),e("td",{className:"whitespace-nowrap px-4 py-2 text-gray-700",children:e("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-12 p-2.5",value:s[a.id]||a.urutan,type:"number",onChange:b=>m({...s,[a.id]:parseInt(b.target.value)})})})]},d))})]}),l.length==0?t("div",{className:"p-6 text-base font-bold",children:["Tidak ada kiriman untuk tanggal ",f]}):""]})}),l.length>0?e("button",{onClick:x,type:"button",className:"mt-2 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Simpan Urutan"}):""]})})]})};export{j as default};
